@model TaakModel

@{
    ViewData["Title"] = "Taak details";
}

<div>
    <a asp-action="Index">Terug naar overzicht</a>
</div>
<h1>Details taak</h1>

<div>
    @* Main taak metadata *@
    <table class="table table-striped table-hover">
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(Model => Model.id)
            </th>
            <td scope="col">
                @Model.id
            </td>
        </tr>
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(Model => Model.dateTime)
            </th>
            <td scope="col">
                @Model.GetDateTimeString()
            </td>
        </tr>
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(Model => Model.addedColumnsCount)
            </th>
            <td scope="col">
                @Model.addedColumnsCount
            </td>
        </tr>
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(Model => Model.removedColumnsCount)
            </th>
            <td scope="col">
                @Model.removedColumnsCount
            </td>
        </tr>
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(Model => Model.changesCount)
            </th>
            <td scope="col">
                @Model.changesCount
            </td>
        </tr>
        
    </table>
</div>

<br />
<hr class="solid">
<br />

<div>
    <h2>Subtaken</h2>
     @* Subtaken *@
     @foreach (SubtaakModel subtaak in Model.subtaken)
    {
        <h4>Overzicht: @subtaak.overzicht</h4>
        <div>
            <table class="table table-striped table-hover">
                <tr>
                    <th scope="col">
                        Overzicht
                    </th>
                    <td scope="col">
                        @subtaak.overzicht
                    </td>
                </tr>
                <tr>
                    <th scope="col">
                        Toegevoegde kolommen
                    </th>
                    <td scope="col">
                        @subtaak.addedColumns
                    </td>
                </tr>
                <tr>
                    <th scope="col">
                        Verwijderde kolommen
                    </th>
                    <td scope="col">
                        @subtaak.removedColumns
                    </td>
                </tr>

            </table>
        </div>
        <div>
            <table class="table table-striped table-hover">
                <thead>
                    <th scope="col">
                        Op invoer id
                    </th>
                    <th scope="col">
                        Op kolom
                    </th>
                    <th scope="col">
                        Waarde A
                    </th>
                    <th>

                    </th>
                    <th>
                        Waarde B
                    </th>
                </thead>
                @foreach (DiffModel diff in subtaak.foundDiffs)
                {
                    
                    <tr value="Details">
                        <th scope="row">
                            @diff.onEntryId
                        </th>
                        <td>
                            @diff.onColumn
                        </td>
                        <td>
                            @diff.valueA
                        </td>
                        <td>
                            ->
                        </td>
                        <td>
                            @diff.valueB
                        </td>

                    </tr>
                    
                }
            </table>
            
        </div>
        <br />
        <hr class="solid">
        <br />
    }

</div>

